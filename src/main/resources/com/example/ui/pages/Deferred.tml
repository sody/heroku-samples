<html t:type="layout"
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_1_0.xsd">


<div class="row">
    <div class="span12">
        <t:tabs t:id="tabs" items="prop:tabs" selected="prop:selectedTab">
            <t:delegate to="tabContent"/>
        </t:tabs>
    </div>

    <t:block t:id="beforeTab">
        <t:actionlink t:id="updateBefore" zone="prop:beforeZoneId"
                      rel="tooltip" title="zone=${prop:beforeZoneId}" class="btn">
            ${message:label.update}
        </t:actionlink>
        <br/><br/>
        <t:zone t:id="beforeZone">
            <div class="hero-unit">
                <p>${message:message.help-text}</p>
                <p>${beforeContent}</p>
            </div>
        </t:zone>
        <h4>${message:section.source-code}</h4>
        <t:source content="classpath:sources/deferred/Deferred_before_tml.source"/>
        <t:source content="classpath:sources/deferred/Deferred_before_java.source"/>
    </t:block>

    <t:block t:id="afterTab">
        <t:actionlink t:id="updateAfter" zone="prop:afterZoneId" t:mixins="RenderDeferred"
                      rel="tooltip" title="zone=${prop:afterZoneId}" class="btn">
            ${message:label.update}
        </t:actionlink>
        <br/><br/>
        <t:zone t:id="afterZone">
            <div class="hero-unit">
                <p>${message:message.help-text}</p>
                <p>${afterContent}</p>
            </div>
        </t:zone>
        <h4>${message:section.source-code}</h4>
        <t:source content="classpath:sources/deferred/Deferred_after_tml.source"/>
        <t:source content="classpath:sources/deferred/Deferred_after_java.source"/>
    </t:block>
</div>

</html>
